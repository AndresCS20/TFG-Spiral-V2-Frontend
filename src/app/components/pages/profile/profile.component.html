<section class="relative pt-40 pb-24">
  <div
    alt="cover-image"
    class="w-full absolute top-0 left-0 z-0 h-60 rounded-xl"
    [attr.style]="'background: url(' + (currentUser.banner_picture || 'https://picsum.photos/seed/' + currentUser.username + '/1280/720') + '); background-size: cover; background-position: center;'"
  ></div>
  <div class="w-full max-w-9xl mx-auto px-6 md:px-8">
    <div
      class="flex items-center justify-center sm:justify-start relative z-10 mb-5"
    >
      <app-avatar-frame
        [profile_picture]="currentUser.profile_picture || 'https://picsum.photos/seed/' + currentUser.username + '/1280/720'"
        profile_size="xlarge"
        profile_frame="tech"
      ></app-avatar-frame>
      <b>{{currentUser.profile_picture_frame}}</b>
    </div>
    <div
      class="flex flex-col sm:flex-row max-sm:gap-5 items-center justify-between mb-5"
    >
      <div class="block">
      @if(currentUser.fullname)
        {
          <h3 class="font-manrope font-bold text-4xl mb-1">{{currentUser.fullname}}</h3>
          <p class="font-normal text-base leading-7">
            <i class="fa-regular fa-at mr-1 text-sm"></i>{{currentUser.username}}
          </p>
        } @else {
          <h3 class="font-manrope font-bold text-4xl mb-1"><i class="fa-regular fa-at mr-1 text-sm"></i>{{currentUser.username}}</h3>
        }     

      </div>
      <div class="flex items-center gap-4">
        <span
          class="py-3.5 px-5 badge badge-outline badge-primary font-semibold text-base leading-7 shadow-sm"
          ><i class="fa-regular fa-person-walking-arrow-right"></i>&nbsp;{{currentUser?.followers?.length || 0}}
          Seguidores</span
        >
        <span
          class="py-3.5 px-5 badge badge-outline badge-secondary font-semibold text-base leading-7 shadow-sm"
          ><i class="fa-regular fa-person-walking-arrow-loop-left"></i>&nbsp;{{currentUser?.following?.length || 0}}
          Seguidos</span
        >
      </div>
    </div>
    <div
      class="flex flex-col lg:flex-row max-lg:gap-5 items-center justify-between py-0.5"
    >
    @if(currentUser.username === username) {
      <p>{{currentUser.username}} | {{username}}</p>

      <div class="flex items-center gap-4">
        <button class="py-3.5 px-5 btn btn-primary">
          <i class="fa-regular fa-user-pen"></i> Editar Perfil
        </button>
        <button class="py-3.5 px-5 btn btn-info">
          <i class="fa-regular fa-cogs"></i> Ajustes
        </button>
      </div> 
       }
      <div
        role="tablist"
        class="menu menu-vertical md:menu-horizontal gap-1 w-full md:w-fit"
      >
      <li class="block lg:hidden"><a routerLink="/profile/{{ username }}/about" routerLinkActive="active"><i class="fa-regular fa-info"></i>&nbsp;Sobre mi</a></li>
        <li>
          <a
            routerLink="/profile/{{ currentUser.username }}/feed"
            routerLinkActive="active"
            ><i class="fa-regular fa-rectangle-vertical"></i> Publicaciones</a
          >
        </li>
        <li>
          <a
            routerLink="/profile/{{ currentUser.username }}/media"
            routerLinkActive="active"
            ><i class="fa-regular fa-rectangle-history-circle-user"></i>
            Multimedia</a
          >
        </li>
        <li>
          <a
            routerLink="/profile/{{ currentUser.username }}/communities"
            routerLinkActive="active"
            ><i class="fa-regular fa-users"></i> Comunidades</a
          >
        </li>
        <li>
          <a
            routerLink="/profile/{{ currentUser.username }}/followers"
            routerLinkActive="active"
            ><i class="fa-duotone fa-person-walking-arrow-right"></i> Lista de
            Seguidores</a
          >
        </li>
        <li>
          <a
            routerLink="/profile/{{ currentUser.username }}/following"
            routerLinkActive="active"
            ><i class="fa-regular fa-person-walking-arrow-loop-left"></i> Lista
            de Seguidos</a
          >
        </li>
      </div>
    </div>
  </div>
</section>

<div class="w-full max-w-9xl mx-auto px-6 md:px-8 block md:flex gap-3">
  <div class="flex-1">
    <router-outlet></router-outlet>
  </div>

  <div class="w-full md:w-1/4 hidden lg:block">
    <app-about/>
  </div>
</div>
